<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë—É—Ä–æ–≤–æ–π –ñ—É—Ä–Ω–∞–ª</title>
    <meta name="theme-color" content="#4f46e5">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192.png">
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #1e293b;
            line-height: 1.6;
        }
        
        .container {
            max-width: 100%;
            padding: 16px;
        }
        
        .header {
            background: #4f46e5;
            color: white;
            padding: 16px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .btn {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin: 8px 0;
        }
        
        .btn-secondary {
            background: #64748b;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            padding: 16px;
            margin: 12px 0;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        label {
            display: block;
            margin-bottom: 4px;
            font-weight: 500;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 16px;
        }
        
        textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .nav {
            display: flex;
            justify-content: space-around;
            background: white;
            padding: 12px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        
        .nav-btn {
            background: none;
            border: none;
            font-size: 14px;
            color: #64748b;
            cursor: pointer;
        }
        
        .nav-btn.active {
            color: #4f46e5;
        }
        
        .page {
            display: none;
            margin-bottom: 60px;
        }
        
        .page.active {
            display: block;
        }
        
        .well-item {
            border-left: 4px solid #4f46e5;
            padding-left: 12px;
        }
        
        .layer-item {
            border-left: 2px solid #94a3b8;
            padding-left: 12px;
            margin: 8px 0;
        }
        
        .offline-badge {
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìã –ë—É—Ä–æ–≤–æ–π –ñ—É—Ä–Ω–∞–ª</h1>
        <div id="connection-status"></div>
    </div>

    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="home-page" class="page active">
            <div class="card">
                <h2>–ú–æ–∏ —Å–∫–≤–∞–∂–∏–Ω—ã</h2>
                <div id="wells-list"></div>
                <button class="btn" onclick="showPage('new-well-page')">
                    ‚ûï –ù–æ–≤–∞—è —Å–∫–≤–∞–∂–∏–Ω–∞
                </button>
            </div>
        </div>

        <!-- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–∫–≤–∞–∂–∏–Ω—ã -->
        <div id="new-well-page" class="page">
            <div class="card">
                <h2>–ù–æ–≤–∞—è —Å–∫–≤–∞–∂–∏–Ω–∞</h2>
                <form id="new-well-form">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–≤–∞–∂–∏–Ω—ã *</label>
                        <input type="text" name="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label>–£—á–∞—Å—Ç–æ–∫ *</label>
                        <input type="text" name="area" required>
                    </div>
                    
                    <div class="form-group">
                        <label>–°–æ–æ—Ä—É–∂–µ–Ω–∏–µ *</label>
                        <input type="text" name="structure" required>
                    </div>
                    
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
                        <input type="date" name="start_date">
                    </div>
                    
                    <div class="form-group">
                        <label>–ü—Ä–æ–µ–∫—Ç–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ (–º)</label>
                        <input type="number" step="0.01" name="planned_depth">
                    </div>
                    
                    <button type="submit" class="btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∫–≤–∞–∂–∏–Ω—É</button>
                </form>
                <button class="btn btn-secondary" onclick="showPage('home-page')">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </div>

        <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤ -->
        <div id="add-layer-page" class="page">
            <div class="card">
                <h2>–î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π</h2>
                <form id="new-layer-form">
                    <input type="hidden" name="well_id" id="current-well-id">
                    
                    <div class="form-group">
                        <label>–ì–ª—É–±–∏–Ω–∞ –æ—Ç (–º) *</label>
                        <input type="number" step="0.01" name="depth_from" required>
                    </div>
                    
                    <div class="form-group">
                        <label>–ì–ª—É–±–∏–Ω–∞ –¥–æ (–º) *</label>
                        <input type="number" step="0.01" name="depth_to" required>
                    </div>
                    
                    <div class="form-group">
                        <label>–õ–∏—Ç–æ–ª–æ–≥–∏—è *</label>
                        <select name="lithology" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–æ—Ä–æ–¥—ã</option>
                            <option value="sand">–ü–µ—Å–æ–∫</option>
                            <option value="clay">–ì–ª–∏–Ω–∞</option>
                            <option value="loam">–°—É–≥–ª–∏–Ω–æ–∫</option>
                            <option value="sandy_loam">–°—É–ø–µ—Å—å</option>
                            <option value="peat">–¢–æ—Ä—Ñ</option>
                            <option value="gravel">–ì—Ä–∞–≤–∏–π</option>
                            <option value="boulder">–í–∞–ª—É–Ω—ã</option>
                            <option value="fill">–ù–∞—Å—ã–ø–Ω–æ–π –≥—Ä—É–Ω—Ç</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–Ω—Ç–∞</label>
                        <textarea name="description" placeholder="–¶–≤–µ—Ç, –≤–∫–ª—é—á–µ–Ω–∏—è, –≤–ª–∞–∂–Ω–æ—Å—Ç—å..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn">üíæ –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π</button>
                </form>
                <button class="btn btn-secondary" onclick="showPage('well-detail-page')">‚Üê –ù–∞–∑–∞–¥</button>
            </div>
        </div>

        <!-- –î–µ—Ç–∞–ª–∏ —Å–∫–≤–∞–∂–∏–Ω—ã -->
        <div id="well-detail-page" class="page">
            <div class="card">
                <h2 id="well-detail-name"></h2>
                <div id="well-detail-info"></div>
                <button class="btn" onclick="showPage('add-layer-page')">
                    ‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π
                </button>
                <div id="layers-list"></div>
                <button class="btn btn-secondary" onclick="showPage('home-page')">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</button>
            </div>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="nav">
        <button class="nav-btn active" onclick="showPage('home-page')">üè†</button>
        <button class="nav-btn" onclick="showPage('new-well-page')">‚ûï</button>
        <button class="nav-btn" onclick="syncData()">üîÑ</button>
    </div>

    <script src="js/app.js"></script>
    <script src="js/offline.js"></script>
</body>
</html>