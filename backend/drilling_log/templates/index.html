<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë—É—Ä–æ–≤–æ–π –ñ—É—Ä–Ω–∞–ª</title>
    <meta name="theme-color" content="#4f46e5">
    <link rel="manifest" href="/static/manifest.json">
    <style>
        /* –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞–≤–ª—è–µ–º, –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #64748b;
        }
        
        .message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #10b981;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .message-error {
            background: #ef4444;
        }
        
        .message-info {
            background: #3b82f6;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìã –ë—É—Ä–æ–≤–æ–π –ñ—É—Ä–Ω–∞–ª</h1>
        <div id="connection-status" class="status-online">üü¢ –û–Ω–ª–∞–π–Ω</div>
    </div>

    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <div id="home-page" class="page active">
            <div class="card">
                <h2>–ú–æ–∏ —Å–∫–≤–∞–∂–∏–Ω—ã</h2>
                <div id="wells-list">
                    <div class="empty-state">
                        <p>üìù –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫–≤–∞–∂–∏–Ω...</p>
                    </div>
                </div>
                <button class="btn" onclick="showPage('new-well-page')">
                    ‚ûï –ù–æ–≤–∞—è —Å–∫–≤–∞–∂–∏–Ω–∞
                </button>
            </div>
            
            <!-- –°—Ç–∞—Ç—É—Å –æ—Ñ–ª–∞–π–Ω –¥–∞–Ω–Ω—ã—Ö -->
            <div class="card" id="offline-data" style="display: none;">
                <h3>üíæ –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
                <p>–≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:</p>
                <div id="offline-wells-list"></div>
                <button class="btn" onclick="app.syncOfflineData()">
                    üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
                </button>
            </div>
        </div>

        <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫–≤–∞–∂–∏–Ω—ã (—É–∂–µ —É –≤–∞—Å –µ—Å—Ç—å) -->
        <div id="new-well-page" class="page">
            <div class="card">
                <h2>–ù–æ–≤–∞—è —Å–∫–≤–∞–∂–∏–Ω–∞</h2>
                <form id="new-well-form">
                    <div class="form-group">
                        <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–≤–∞–∂–∏–Ω—ã *</label>
                        <input type="text" name="name" required placeholder="–°–∫–≤–∞–∂–∏–Ω–∞ ‚Ññ1">
                    </div>
                    
                    <div class="form-group">
                        <label>–£—á–∞—Å—Ç–æ–∫ *</label>
                        <input type="text" name="area" required placeholder="–°–µ–≤–µ—Ä–Ω—ã–π —É—á–∞—Å—Ç–æ–∫">
                    </div>
                    
                    <div class="form-group">
                        <label>–°–æ–æ—Ä—É–∂–µ–Ω–∏–µ</label>
                        <input type="text" name="structure" placeholder="–ñ–∏–ª–æ–π –¥–æ–º">
                    </div>
                    
                    <div class="form-group">
                        <label>–ü—Ä–æ–µ–∫—Ç–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ (–º)</label>
                        <input type="number" step="0.01" name="planned_depth" placeholder="10.0">
                    </div>
                    
                    <button type="submit" class="btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–∫–≤–∞–∂–∏–Ω—É</button>
                </form>
                <button class="btn btn-secondary" onclick="showPage('home-page')">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
            </div>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <div class="nav">
        <button class="nav-btn active" onclick="showPage('home-page')">üè†</button>
        <button class="nav-btn" onclick="showPage('new-well-page')">‚ûï</button>
        <button class="nav-btn" onclick="app.syncData()">üîÑ</button>
        <button class="nav-btn" onclick="app.exportData()">üì§</button>
    </div>

    <script src="/static/js/app.js"></script>
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/static/js/sw.js')
                .then(() => console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
                .catch(error => console.log('–û—à–∏–±–∫–∞ Service Worker:', error));
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            if (!navigator.onLine) {
                document.getElementById('connection-status').innerHTML = 
                    '<span class="status-offline">üî¥ –û—Ñ–ª–∞–π–Ω - —Ä–∞–±–æ—Ç–∞–µ–º –ª–æ–∫–∞–ª—å–Ω–æ</span>';
            }
        });
    </script>
</body>
</html>